# slam_toolbox config for human_aware_nav
# fixes frame mismatch: uses base_link instead of base_footprint

slam_toolbox:
  ros__parameters:
    # frame configuration - must match driver.py TF tree
    base_frame: base_link        # changed from default base_footprint
    odom_frame: odom
    map_frame: map
    scan_topic: /scan

    # use simulation time from webots
    use_sim_time: true

    # mapping mode
    mode: mapping

    # map resolution
    resolution: 0.05

    # scan matching settings
    use_scan_matching: true
    use_scan_barycenter: true

    # loop closure
    do_loop_closing: true
    loop_search_maximum_distance: 3.0
    loop_match_minimum_chain_size: 10

    # update intervals
    minimum_travel_distance: 0.5
    minimum_travel_heading: 0.5
    minimum_time_interval: 0.5
    map_update_interval: 5.0

    # transform settings
    transform_publish_period: 0.02
    transform_timeout: 0.2
    tf_buffer_duration: 30.0

    # scan buffer
    scan_buffer_size: 10
    scan_buffer_maximum_scan_distance: 10.0
